<div class="row center">
  <form action="/" method="GET">
    <div class="form-group">
        <div class="center">
          <button type="submit" class="search-button btn btn-primary btn-lg">Search</button>
        </div>
        <input type="text"
        class="form-control"
        id="search-box"
        name="query"
        placeholder="Some ideas: 'Feliks Zemdegs 4x4', '7.08', 'Mats Valk Aachen'"
        value="<%=h params["query"] %>"</input>
      </div>
  </form>

  <br><br>
</div>
<div class="row">
  <table class="table table-condensed table-bordered table-striped table-hover span8">
    <tr>
      <th> Solver </th>
      <th> Event </th>
      <th> Single </th>
      <th> Average </th>
      <th> Result </th>
      <th> Competition </th>
      <th> Date Added </th>
    </tr>
    <% paginate(@solves).where(visible: 1).each do |solve| %>
      <tr>
        <td> <%=h solve[:solver_name] %> <br> </td>
        <td> <%=h solve[:puzzle_name] %> </td>
        <td> <div class="record"><%=h solve.single_record %></div> </td>
        <td> <div class="record"><%=h solve[:average_record] %></div> </td>
        <td> <a href="/solve/<%= solve[:id] %>"> <%=h solve.format %> </a> </td>
        <td> <%=h solve[:competition_name] %> </td>
        <td> <%=h date_added(solve) %> </td>
      </tr>
    <% end %>
  </table>

</div>

<div class="center">
  <%= erb :pager %>
</div>
